<!DOCTYPE html>
<html lang="ja" style="color-scheme: dark;">
	<head>
		<!--フロントエンド有識者助けて(/_;)-->
		<link rel="stylesheet" type="text/css" href="/static/gui/log.css">
		<title>ChatGPT API</title>
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta charset="UTF-8">
		<script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
		<script src="/static/gui/message_form.js"></script>
		<script src="/static/gui/update_message.js"></script>
		<script src="/static/gui/scroll.js"></script>
		<script src="/static/gui/menu.js"></script>
	</head>

	<body class="body">

		<div class="all_conversation">

			<!-- left log list -->
			<form action="" class="log_list" method="post">
				{% csrf_token %}
				<button id="add_log_button" name="add_log_button">New chat</button>		<!-- type="button"を入れるとクリックが拾えない(;´Д｀) -->
				{% for log_title in log_title_list %}
					<p><button class="log" name="log{{forloop.counter0}}">{{log_title}}</button></p>
				{% endfor %}
			</form>

			<!-- middle conversation -->
			<div class="conversation">
				{% for past_message in past_messages %}
					{% if past_message.role == "user" %}
						<p class="user" id="user{{forloop.counter}}">{{past_message.content}}</p>
					{% elif past_message.role == "assistant" %}
						<p class="assistant" id="assistant{{forloop.counter}}">{{past_message.content}}</p>
					{% endif %}
				{% endfor %}
			</div>

		</div>

		<!-- right model settings -->
		<div id="model_settings">
			<button id="model_menu_button"><<</button>
			<ul id="settings_list">
				<li class="setting_content">model_name</li>
				{{model_data.model}}
				<li class="setting_content">temperature</li>
				{{model_data.temperature}}
				<li class="setting_content">top_p</li>
				{{model_data.top_p}}
				<li class="setting_content">generate_num</li>
				{{model_data.generate_num}}
				<li class="setting_content">max_tokens</li>
				{{model_data.max_tokens}}
				<li class="setting_content">presence_penalty</li>
				{{model_data.presence_penalty}}
				<li class="setting_content">frequency_penalty</li>
				{{model_data.frequency_penalty}}
			</ul>
		</div>

		<footer id="footer">
			<form action="" class="message_input_footer" method="post">					<!-- classだと大丈夫だけどidにするとsubmitが拾えない(;´Д｀)-->
				{% csrf_token %}
				<textarea id="message_input" name="message", placeholder="Send a message"></textarea>
				<button type="submit" id="send_button">▶</button>
			</form>
		</footer>
	</body>

</html>